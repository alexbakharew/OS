CLIENT
При запуске происхдит идентификация пользователя. Вводится его имя - это и будет адресом клиента. 
Создается сокет данного пользователя и к нему прикрепляется заданный адресс. Инициализируется сервер(Адресс сервера вынесен в config.h). 
Затем происходит подключение к серверу.

Когда клиент хочет отправить кому то сообщение, создается структура письма в куче. 
В нее вносится имя получателя, отправителя, сообщение и тип сообщения(запрос\сообщение). Отправляем на сервер (void*)message(указатель на структуру письма).

SERVER
в общей памяти хранятся ссылки на все сообщения. Сообщения находятся в куче.

